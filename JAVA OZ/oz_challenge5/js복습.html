<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>성적표</title>
    <style>
        table{
            width: 400px;
            height: 300px;
            text-align: center;
            font-size: 20px;
        }

    </style>
</head>
<body>
    <div id="container">
        <h1>떡잎 유치원 멀리뛰기 결과</h1>
            <table border="1" id="table">
                <th>이름</th>
                <th>점수</th>
                <tr>
                    <td>짱구</td>  
                    <td>45</td>                    
                 </tr>
                 <tr>
                    <td>맹구</td>  
                    <td>75</td>                    
                 </tr>
                 <tr>
                    <td>철수</td>  
                    <td>95</td>                    
                 </tr>
                 <tr>
                    <td>훈이</td>  
                    <td>50</td>                    
                 </tr>
                 <tr>
                    <td>유리</td>  
                    <td>68</td>                    
                 </tr>
                 <tr>
                    <td>수지</td>  
                    <td>86</td>                    
                 </tr>
            </table>
            <h2>75점이 넘는 사람: </h2>
    </div>
    <script>
        // 문제: 75점이 넘는 사람만 추출해서 화면에 나타내기

        // 1. 객체 리터럴로 멀리뛰기 객체 생성 : 이름/점수 
        //  =>객체 리터럴로 하면 여러개 객체를 만들기 불편
        //  => 생성자 함수로 달리기이름과 점수 만들기


        function runResult (name,score){
            this.name = name
            this.score= score
        } 
        // 2. 객체에 각각 이름이랑 점수 대입
        const jjang = new runResult('짱구',45)
        const mmang = new runResult('맹구',76)
        const soo = new runResult('철수',95)
        const hoon = new runResult('훈이',50)
        const yuri = new runResult('유리',68)
        const suji = new runResult('수지',86)    

     
        // 3. (2)를 배열에 넣기 + 오름차순 정렬
        const resultArr = [jjang, mmang, soo, hoon, yuri, suji]  
           
        //비교함수 
        function compare(propertyName) {
            return function (a, b) {
            const propA = a[propertyName]; //객체속성
            const propB = b[propertyName];

            if (propA < propB) {
                return -1;
            }
            if (propA > propB) {
                return 1;
            }
            return 0;
            };
        }
        resultArr.sort(compare('score')).reverse();
        console.log(resultArr)

        
        // 4. (3) 배열에서 점수가 75 이상인 사람 빼서 새로운 배열 .. -> filter 사용//
        // -> 점수만 선택해야함. 어떻게?? map 활용해보기 성ㄱ오!   => 굳이 이 단계에서 필오없음~
        // console.log(jjang.score)
        // let scoreArr = resultArr.map(function(item){
        //     return item.score
        // })
        // console.log(scoreArr)
        

        // 5. filter 값을 h2에 대입!
         fastRunner = resultArr.filter(function(item){ 
          return item.score >75
            }          
         )       

        // 6. 4번이  굳이 필요가 없이지고 5에서 이제 화면에 이름만 보여줘야하니까
        // 여기서 새로운 map?
           
        let nameArr = fastRunner.map(function(item){
            return item.name
        })       
    
        const h2 = document.querySelector('h2')
            h2.textContent = `75점이 넘는 사람: ${nameArr}`

        // 심화) 점수가 높은 사람 순으로 나열하기. .
        // -> 오름차순정렬(sort()) 하고 reverse 어떤함수를. ? ..
        // -> map으로 숫자만 있는 배열 새로 만들기 => 애초에 처음에 해주면 되는듯
        // + 객체를 요소로 갖는 배열에서 score기준으로 정렬하려면
        //  resultArr.sort(compare('score')).reverse();
        // 근데 이 전에 비교함수 정의되어있어야함 !!
    </script>
   

    
    
</body>
</html>